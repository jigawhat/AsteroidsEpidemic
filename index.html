<html>
<head>
<style>
body {
    text-align: center;
}
canvas {
    border: 1px solid #d3d3d3;
    background-color: #f1f1f1;
}
</style>
</head>
<body onload="startGame()">
<!-- <center> -->
<!-- <canvas id="myCanvas" width="800" height="600" style="border:1px solid #000000;">
</canvas> -->

<!-- <script>
var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");
ctx.moveTo(0, 0);
ctx.lineTo(200, 100);
ctx.stroke();
</script> -->

<script>

var myGamePiece;

function startGame() {
  myGameArea.start();
  myGamePiece = new component(10, 120);
}

var myGameArea = {
  canvas : document.createElement("canvas"),
  start : function() {
    this.canvas.width = 800;
    this.canvas.height = 600;
    this.context = this.canvas.getContext("2d");
    document.body.insertBefore(this.canvas, document.body.childNodes[0]);
    this.interval = setInterval(updateGameArea, 20);

    window.addEventListener('keydown', function (e) {
      myGameArea.keys = (myGameArea.keys || []);
      myGameArea.keys[e.keyCode] = true;
    })
    window.addEventListener('keyup', function (e) {
      myGameArea.keys[e.keyCode] = false;
    })
  },
  clear : function() {
    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
  }
}

function component(x, y) {
  // this.width = width;
  // this.height = height;
  this.speedX = 0;
  this.speedY = 0;
  this.angle = 0;
  this.moveAngle = 0;
  this.x = x;
  this.y = y;
  this.update = function() {
    ctx = myGameArea.context;
    ctx.save();
    ctx.translate(this.x, this.y);
    ctx.rotate(this.angle);

    // ctx.fillStyle = color;
    // ctx.fillRect(this.x, this.y, this.width, this.height);
    ctx.beginPath()
    ctx.moveTo(10, 15);
    ctx.lineTo(0, -15);
    ctx.lineTo(-10, 15);
    ctx.moveTo(7, 7.5);
    ctx.lineTo(-7, 7.5);
    ctx.stroke()

    ctx.restore();
  }
  this.newPos = function() {
    this.x += this.speedX;
    this.y += this.speedY;
    this.angle += this.moveAngle;
  }
}

function updateGameArea() {
  myGameArea.clear();
  // myGamePiece.speedX = 0;
  // myGamePiece.angle += 1 * Math.PI / 180;
  // myGamePiece.speedY = 0;
  myGamePiece.moveAngle = 0;
  if (myGameArea.keys && myGameArea.keys[37]) {myGamePiece.moveAngle = -2.5 * Math.PI / 180}
  if (myGameArea.keys && myGameArea.keys[39]) {myGamePiece.moveAngle = 2.5 * Math.PI / 180}
  if (myGameArea.keys && myGameArea.keys[38]) {
    myGamePiece.speedX += 0.1 * Math.cos(myGamePiece.angle - Math.PI / 2);
    myGamePiece.speedY += 0.1 * Math.sin(myGamePiece.angle - Math.PI / 2);
  }
  // if (myGameArea.keys && myGameArea.keys[37]) {myGamePiece.speedX = -1; }
  // if (myGameArea.keys && myGameArea.keys[39]) {myGamePiece.speedX = 1; }
  // if (myGameArea.keys && myGameArea.keys[38]) {myGamePiece.speedY = -1; }
  // if (myGameArea.keys && myGameArea.keys[40]) {myGamePiece.speedY = 1; }
  myGamePiece.newPos();
  myGamePiece.update();
}


</script>

<!-- </center> -->
</body>
</html>